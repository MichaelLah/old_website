{"version":3,"sources":["beam_logo.svg","Loading.js","ShippingDetails.js","MemberPrefs.js","MemberDetailsContainer.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Loading","react_default","a","createElement","className","ShippingDetails","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleEditable","setState","isEditable","state","address","get","city","zip","handleFormValueChange","bind","assertThisInitialized","e","defineProperty","target","name","value","_this$state","type","disabled","onChange","onClick","Component","MemberPrefs","brushPrefs","_props$brushPrefs","auto_off","brush_color","motor_speed","BASE_URL","MemberDetailsContainer","isloadingDone","didLoadingFail","memberDetails","memberPrefs","apiFetch","url","fetch","then","response","json","ok","Promise","reject","fetchSearchResults","fetchMemberPrefs","loadDetails","_this2","all","values","searchResults","allMemberPrefs","correctDetails","filter","details","sort","b","Date","effective_date","shift","currentMemberPrefs","find","prefs","member_id","id","catch","finally","src_MemberPrefs","src_ShippingDetails","src_Loading","App","src","logo","alt","src_MemberDetailsContainer","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.39842bc9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/beam_logo.71e94285.svg\";","import React from \"react\";\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"member-details__loading\">\r\n      <p>Loading member details...</p>\r\n      <div className=\"member-details__loading-icon\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React, { Component } from \"react\";\r\nimport { get } from \"lodash\";\r\n\r\nclass ShippingDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      address: get(props, \"memberDetails.shipping_address\"),\r\n      city: get(props, \"memberDetails.shipping_city\"),\r\n      state: get(props, \"memberDetails.shipping_state\"),\r\n      zip: get(props, \"memberDetails.shipping_zip_code\"),\r\n      isEditable: false\r\n    };\r\n\r\n    this.handleFormValueChange = this.handleFormValueChange.bind(this);\r\n  }\r\n\r\n  //Update the react state with the new form value\r\n  handleFormValueChange(e) {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n  \r\n  //Toggle if form should be editable or not.\r\n  toggleEditable = () => {\r\n    this.setState({ isEditable: !this.state.isEditable });\r\n  };\r\n\r\n  render() {\r\n    const { address, city, state, zip, isEditable } = this.state;\r\n    return (\r\n      <div className=\"shipping-details\">\r\n        <p className=\"section-header\">Shipping Address</p>\r\n        <form>\r\n          <label>\r\n            Address:\r\n            <input\r\n              type=\"text\"\r\n              name=\"address\"\r\n              disabled={!isEditable}\r\n              value={address}\r\n              onChange={this.handleFormValueChange}\r\n            />{\" \"}\r\n          </label>\r\n          <label>\r\n            City:\r\n            <input\r\n              type=\"text\"\r\n              name=\"city\"\r\n              disabled={!isEditable}\r\n              value={city}\r\n              onChange={this.handleFormValueChange}\r\n            />{\" \"}\r\n          </label>\r\n          <label>\r\n            State:\r\n            <input\r\n              type=\"text\"\r\n              name=\"state\"\r\n              disabled={!isEditable}\r\n              value={state}\r\n              onChange={this.handleFormValueChange}\r\n            />{\" \"}\r\n          </label>\r\n          <label>\r\n            ZIP:\r\n            <input\r\n              type=\"text\"\r\n              name=\"zip\"\r\n              disabled={!isEditable}\r\n              value={zip}\r\n              onChange={this.handleFormValueChange}\r\n            />{\" \"}\r\n          </label>\r\n        </form>\r\n        <button onClick={this.toggleEditable}>\r\n          {isEditable ? \"Save shipping address\" : \"Edit shipping details\"}\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ShippingDetails;\r\n","import React from \"react\";\r\n\r\nconst MemberPrefs = props => {\r\n  if (props && props.brushPrefs) {\r\n    const { auto_off, brush_color, motor_speed } = props.brushPrefs;\r\n    return (\r\n      <div className=\"brush-preferences\">\r\n        <p className=\"section-header\">Brush Preferences</p>\r\n        <div className=\"brush-preferences__pref-container\">\r\n          <div>\r\n            <div className=\"brush-preferences__brush-color-label\">\r\n              <p>Brush Color: </p>\r\n            </div>\r\n            <p>Motor Speed: </p>\r\n            <p>Auto Off: </p>\r\n          </div>\r\n          <div className=\"brush-preferences__values\">\r\n            <div className=\"brush-preferences__color-container\">\r\n              <p>{brush_color}</p>\r\n              <div\r\n                className={\r\n                  \"brush-preferences__brush-color-icon beam-brush-\" +\r\n                  brush_color\r\n                }\r\n              />\r\n            </div>\r\n            <p>{motor_speed}</p>\r\n            <p>{auto_off ? \"Yes\" : \"No\"}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MemberPrefs;\r\n","import React, { Component } from \"react\";\r\nimport { find, get } from \"lodash\";\r\nimport Loading from \"./Loading\";\r\nimport ShippingDetails from \"./ShippingDetails\";\r\nimport MemberPrefs from \"./MemberPrefs\";\r\nconst BASE_URL = \"http://member-data.beam.dental/\";\r\nclass MemberDetailsContainer extends Component {\r\n  state = {\r\n    isloadingDone: false,\r\n    didLoadingFail: false,\r\n    memberDetails: {},\r\n    memberPrefs: {}\r\n  };\r\n  apiFetch = url => {\r\n    return fetch(BASE_URL + url).then(response => {\r\n      const json = response.json();\r\n      if (response.ok) {\r\n        return json;\r\n      } else {\r\n        return json.then(Promise.reject.bind(Promise));\r\n      }\r\n    });\r\n  };\r\n  fetchSearchResults = () => {\r\n    const url = \"searchResults.json\";\r\n    return this.apiFetch(url);\r\n  };\r\n  fetchMemberPrefs = () => {\r\n    const url = \"memberPreferences.json\";\r\n    return this.apiFetch(url);\r\n  };\r\n  loadDetails = () => {\r\n    this.setState({ isloadingDone: true });\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.all([this.fetchSearchResults(), this.fetchMemberPrefs()])\r\n      .then(values => {\r\n        const searchResults = values[0];\r\n        const allMemberPrefs = values[1];\r\n        const correctDetails = searchResults\r\n          .filter(details => !get(details, \"primary_insured_id\", true))\r\n          .filter(details => !get(details, \"terminated_at\"))\r\n          .sort((a, b) => {\r\n            return new Date(b.effective_date) - new Date(a.effective_date);\r\n          })\r\n          .shift();\r\n\r\n        const currentMemberPrefs = find(allMemberPrefs, prefs => {\r\n          return prefs.member_id === correctDetails.id;\r\n        });\r\n\r\n        /*\r\n          At this point, correct member details are in 'correctDetails, and\r\n          their preferences are in 'currentMemberPrefs'\r\n        */\r\n        this.setState({\r\n          memberPrefs: currentMemberPrefs,\r\n          memberDetails: correctDetails\r\n        });\r\n      })\r\n      .catch(() => {\r\n        this.setState({ didLoadingFail: true });\r\n      })\r\n      .finally(() => {\r\n        this.setState({ isloadingDone: true });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isloadingDone,\r\n      didLoadingFail,\r\n      memberDetails,\r\n      memberPrefs\r\n    } = this.state;\r\n    \r\n    return isloadingDone ? (\r\n      <div>\r\n        <p className=\"member-name\">Name: {memberDetails.name}</p>\r\n        {didLoadingFail ? <p id=\"loading-error\">Loading Failed!</p> : null}\r\n        <div className=\"member-info-container\">\r\n          <MemberPrefs brushPrefs={memberPrefs} />\r\n          <ShippingDetails memberDetails={memberDetails} />{\" \"}\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <Loading />\r\n    );\r\n  }\r\n}\r\n\r\nexport default MemberDetailsContainer;\r\n","import React, { Component } from \"react\";\nimport logo from \"./beam_logo.svg\";\nimport \"./styles.css\";\nimport MemberDetailsContainer from \"./MemberDetailsContainer\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"beam-title\">\n          <img src={logo} className=\"header__logo\" alt=\"logo\" />\n          <h3>Member Preferences</h3>\n        </header>\n        <MemberDetailsContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}