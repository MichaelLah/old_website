(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/beam_logo.71e94285.svg"},13:function(e,t,a){e.exports=a(20)},18:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),i=a.n(l),s=a(2),c=a(3),m=a(5),o=a(4),u=a(6),d=a(11),h=a.n(d),b=(a(18),a(1)),p=function(){return r.a.createElement("div",{className:"member-details__loading"},r.a.createElement("p",null,"Loading member details..."),r.a.createElement("div",{className:"member-details__loading-icon"}))},f=a(12),g=a(7),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(o.a)(t).call(this,e))).toggleEditable=function(){a.setState({isEditable:!a.state.isEditable})},a.state={address:Object(b.get)(e,"memberDetails.shipping_address"),city:Object(b.get)(e,"memberDetails.shipping_city"),state:Object(b.get)(e,"memberDetails.shipping_state"),zip:Object(b.get)(e,"memberDetails.shipping_zip_code"),isEditable:!1},a.handleFormValueChange=a.handleFormValueChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleFormValueChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.state,t=e.address,a=e.city,n=e.state,l=e.zip,i=e.isEditable;return r.a.createElement("div",{className:"shipping-details"},r.a.createElement("p",{className:"section-header"},"Shipping Address"),r.a.createElement("form",null,r.a.createElement("label",null,"Address:",r.a.createElement("input",{type:"text",name:"address",disabled:!i,value:t,onChange:this.handleFormValueChange})," "),r.a.createElement("label",null,"City:",r.a.createElement("input",{type:"text",name:"city",disabled:!i,value:a,onChange:this.handleFormValueChange})," "),r.a.createElement("label",null,"State:",r.a.createElement("input",{type:"text",name:"state",disabled:!i,value:n,onChange:this.handleFormValueChange})," "),r.a.createElement("label",null,"ZIP:",r.a.createElement("input",{type:"text",name:"zip",disabled:!i,value:l,onChange:this.handleFormValueChange})," ")),r.a.createElement("button",{onClick:this.toggleEditable},i?"Save shipping address":"Edit shipping details"))}}]),t}(n.Component),v=function(e){if(e&&e.brushPrefs){var t=e.brushPrefs,a=t.auto_off,n=t.brush_color,l=t.motor_speed;return r.a.createElement("div",{className:"brush-preferences"},r.a.createElement("p",{className:"section-header"},"Brush Preferences"),r.a.createElement("div",{className:"brush-preferences__pref-container"},r.a.createElement("div",null,r.a.createElement("div",{className:"brush-preferences__brush-color-label"},r.a.createElement("p",null,"Brush Color: ")),r.a.createElement("p",null,"Motor Speed: "),r.a.createElement("p",null,"Auto Off: ")),r.a.createElement("div",{className:"brush-preferences__values"},r.a.createElement("div",{className:"brush-preferences__color-container"},r.a.createElement("p",null,n),r.a.createElement("div",{className:"brush-preferences__brush-color-icon beam-brush-"+n})),r.a.createElement("p",null,l),r.a.createElement("p",null,a?"Yes":"No"))))}},_="http://member-data.beam.dental/",j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={isloadingDone:!1,didLoadingFail:!1,memberDetails:{},memberPrefs:{}},a.apiFetch=function(e){return fetch(_+e).then(function(e){var t=e.json();return e.ok?t:t.then(Promise.reject.bind(Promise))})},a.fetchSearchResults=function(){return a.apiFetch("searchResults.json")},a.fetchMemberPrefs=function(){return a.apiFetch("memberPreferences.json")},a.loadDetails=function(){a.setState({isloadingDone:!0})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([this.fetchSearchResults(),this.fetchMemberPrefs()]).then(function(t){var a=t[0],n=t[1],r=a.filter(function(e){return!Object(b.get)(e,"primary_insured_id",!0)}).filter(function(e){return!Object(b.get)(e,"terminated_at")}).sort(function(e,t){return new Date(t.effective_date)-new Date(e.effective_date)}).shift(),l=Object(b.find)(n,function(e){return e.member_id===r.id});e.setState({memberPrefs:l,memberDetails:r})}).catch(function(){e.setState({didLoadingFail:!0})}).finally(function(){e.setState({isloadingDone:!0})})}},{key:"render",value:function(){var e=this.state,t=e.isloadingDone,a=e.didLoadingFail,n=e.memberDetails,l=e.memberPrefs;return t?r.a.createElement("div",null,r.a.createElement("p",{className:"member-name"},"Name: ",n.name),a?r.a.createElement("p",{id:"loading-error"},"Loading Failed!"):null,r.a.createElement("div",{className:"member-info-container"},r.a.createElement(v,{brushPrefs:l}),r.a.createElement(E,{memberDetails:n})," ")):r.a.createElement(p,null)}}]),t}(n.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"beam-title"},r.a.createElement("img",{src:h.a,className:"header__logo",alt:"logo"}),r.a.createElement("h3",null,"Member Preferences")),r.a.createElement(j,null))}}]),t}(n.Component);i.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.39842bc9.chunk.js.map